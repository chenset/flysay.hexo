<article class="article">
    <header class="article-header text-left">
        <% if(index){ %>
        <h2 class="title1 cl-effect-4"><a class="" href="<%- url_for(post.path) %>"><%- post.title %></a></h2>
        <% }else{ %>
        <h1 class="title2"><%- post.title %></h1>
        <% } %>
    </header>
    <div class="article-meta text-muted">
        <%- date(post.date, 'M月D日, YYYY') %>
        <b class="gap">/</b>
        <%- list_tags(post.tags, {
            show_count: false,
            style: '',
            class: 'text-muted article-tag'
        }) %>
    </div>
    <% if(is_post()){ %>

    <% if(toc(post.content)){ %>
    <div class="article-directory">
        <span class="toc-icon">#</span>
        <%- toc(post.content) %>
    </div>
    <% } %>
    <% } %>
    <div class="article-content">
        <% var content_str = post.content.indexOf('<end></end>') %>
        <% if (index && content_str > 0){ %>
        <%- truncate(post.content, {
            'length': content_str,
            omission: ''
        }) %>

        <% }else{ %>
        <%- post.content %>
        <% } %>
    </div>


</article>
<% if (!index && post.comments){ %>
<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = '<%= page.permalink %>';
        this.page.identifier = '<%= post.layout %>-<%= post.slug %>';
    };

    (function () {
        var d = document, s = d.createElement('script');

        s.src = '//flysay.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<% } %>